
{% extends 'header.html' %}
{% block body %}
<div class="w3-row w3">
  <div class="w3-col m3" style="margin:15px;">
      <div class="w3-card w3-round" style="border-radius: 20px;">
        <div class="w3-white" style="border-radius: 20px;">
          <button onclick="myFunction('Demo1')" class="w3-button w3-block ulul w3-left-align" style="border-radius: 20px;"><i class="fa fa-circle-o-notch fa-fw w3-margin-right"></i> Following</button>
          <div id="Demo1" class="w3-hide w3-container">
             {% for i in lis %}
            <a href="/about/{{i[1]}}">{{i[0]}}</a ><br>
            {% endfor %}
          </div>
        </div>  
  </div></div>
  <div class="w3-col m8">
<div style="margin:15px;">
    <div class="row" id='upper_area' >
      <div class="col-lg-9">
        <b>Write A Post</b>
      </div>
      <div class="col-lg">
        <button class="heart" style="margin: 1px; border-style: none; border-radius: 20px; background: linear-gradient(to right, #9C27B0, #E040FB);color: white;" onclick="clear_post();">New Post</button>
      </div>
      <form action="/insert_post" method="POST">
      <div class="col-lg">
        <button class="heart" style="margin: 1px; border-style: none; border-radius: 20px; background: linear-gradient(to right, #9C27B0, #E040FB);color: white;">POST</button>
      </div>
      
    </div>
    <div class="row">
      <div class="col" style="background-color: white;margin-left:12px; text-align: center;">
        <input type="text" id="research_area" required name="research_area" placeholder="Research Area" style="width: 50%; padding: 10px; margin: 5px; border-style: none; border-radius: 20px;">
      </div>
      <div class='col' style="background-color: white;text-align: center;">
          <select class="sel" id="prof" required name="prof" style="width: 50%; padding: 10px; margin: 5px; border-style: none; border-radius: 20px; color: grey;">
                  <option value='default' selected>Tag Prof</option>
                  {% for i in range(4) %}
                  <option value="ram{{i}}">ram{{i}}</option>
                  {% endfor %}
            </select><br>
      </div>
      <div class='col' style="background-color: white;margin-right:12px; text-align: center;">
        <select class="sel" id="lab" required name="lab" style="width: 50%; padding: 10px; margin: 5px; border-style: none; border-radius: 20px; color: grey;">
                  <option value='default' selected>Tag Lab</option>
                  <option value="cvit">CVIT</option>
                  <option value="serc">SERC</option>
                  <option value="lstm">LSTM</option>
            </select><br>
      </div>
    </div>
    <div class="row">
      <textarea id='post_content' name="post_content" placeholder="About"></textarea>
    </div>
  </form>
  </div>
  <script type="text/javascript">
    function clear_post() {
      document.getElementById('post_content').value = '';
      document.getElementsByName('type')[0].value = 'default';
      document.getElementsByName('type')[1].value = 'default';
    }
  </script>
{% for post in posts %}
  <div style="color: #777;background-color:white;text-align:center;padding:50px 80px;text-align: justify;border-radius:50px;margin:15px ">
  <h3 style="text-align:center;">Research Area:{{post[1]}}</h3>
  <p>
    Lab:{{post[2]}}<br>
    Professor:{{post[4]}}<br>
    Student:{{post[3]}}<br>
  </p>
  <p><b>About</b><br>{{post[7]}}</p>
    <p>
        <a href="vote_count_increment/{{post[0]}}"><button id="{{post[0]}}" class="heart">Vote
          <span class="glyphicon glyphicon-heart"></span></button> {{post[6]}}</a>
      </p>
</div><br>
<script type="text/javascript">
    $(document).ready(function($){
    $('#{{post[0]}}').on("click", function(){
      const element = document.getElementById('{{post[0]}}')
      const color = element.style.color
      // console.log({{post[0]}})
      if(color=="red")
        $(this).css("color", "black");
      else
        $(this).css("color", "red");
    });
});
</script>
{% endfor %}
</div>
</div>
<script src="{{ url_for('static',filename = 'jquery.min.js') }}"></script>
<script src="{{ url_for('static',filename = 'wow.min.js') }}"></script>
<script src="{{ url_for('static',filename = 'bootstrap.min.js') }}"></script>
<script src="{{ url_for('static',filename = 'custom.js') }}"></script>
<script type="text/javascript"> function myFunction(id) {
    var x = document.getElementById(id);
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
        x.previousElementSibling.className += " w3-theme-d1";
    } else { 
        x.className = x.className.replace("w3-show", "");
        x.previousElementSibling.className = 
        x.previousElementSibling.className.replace(" w3-theme-d1", "");
    }
}</script>
{% endblock %}    
